---
title: Realtime Cursor
description: Real-time cursor sharing for collaborative applications
---

<BlockPreview name="realtime-cursor-demo" />

## Installation

<BlockItem
  name="realtime-cursor-vite"
  description="Renders realtime cursors from other users in a room."
/>

## Folder structure

<RegistryBlock itemName="realtime-cursor-vite" />

## Introduction

The Realtime Cursors component lets users share their cursor position with others in the same roomâ€”perfect for real-time collaboration. It handles all the setup and boilerplate for you, so you can add it to your app with minimal effort.

**Features**

- Broadcast cursor position to other users in the same room
- Customizable cursor appearance with smooth animations
- Presence detection (automatically joins/leaves users)
- Throttled updates to reduce network traffic
- Low-latency updates using Convex real-time queries
- Room-based isolation for scoped collaboration
- Automatic cleanup on unmount

## Usage

The Realtime Cursor component is designed to be used in a room. It can be used to build real-time collaborative applications. Add the `<RealtimeCursors />` component to your page and it will render realtime cursors from other users in the room.

<CodeBlock language="tsx">
{`import { RealtimeCursors } from "@/components/realtime-cursors";

export default function Page() {
  return (
    <div className="w-full min-h-screen">
      <RealtimeCursors
        roomName="macrodata_refinement_office"
        username="Mark Scout"
      />
    </div>
  );
}`}
</CodeBlock>

## How it works

The component uses Convex mutations and queries for presence tracking:

<CodeBlock language="ts">
{`// convex/presence.ts
import { query, mutation } from "./_generated/server";
import { v } from "convex/values";

export const list = query({
  args: { roomName: v.string() },
  handler: async (ctx, args) => {
    // Return all cursor positions for the room
    return await ctx.db
      .query("presence")
      .withIndex("by_room", (q) => q.eq("roomName", args.roomName))
      .collect();
  },
});

export const update = mutation({
  args: {
    roomName: v.string(),
    oderId: v.string(),
    x: v.number(),
    y: v.number(),
    username: v.string(),
  },
  handler: async (ctx, args) => {
    // Upsert cursor position
  },
});

export const leave = mutation({
  args: { oderId: v.string() },
  handler: async (ctx, args) => {
    // Remove user's cursor on disconnect
  },
});`}
</CodeBlock>

## Props

| Prop       | Type     | Description                                                |
| ---------- | -------- | ---------------------------------------------------------- |
| `roomName` | `string` | Unique identifier for the shared room or session.          |
| `username` | `string` | Name of the current user; used to track and label cursors. |

## Further reading

- [Convex Real-time Queries](https://docs.convex.dev/client/react/queries)
- [Building Presence Features](https://docs.convex.dev/production/best-practices)

### Smoother cursors

While our Realtime Cursor component aims to keep things simple and lightweight, you may want to add smoother cursor animations for a more polished experience. Libraries like [perfect-cursors](https://github.com/steveruizok/perfect-cursors) can be integrated to add sophisticated interpolation between cursor positions. This is especially useful when dealing with network latency, as it creates fluid cursor movements even when position updates are received at longer intervals (e.g., every 50-80ms). The library handles the complex math of creating natural-looking cursor paths while maintaining performance.
